# 薬効分類検索 - 共有機能実装

## 実装内容

### 1. UI追加
- 検索ボタンの横に「共有」ボタンを追加
- 共有ボタンは indigo カラーのアウトラインスタイル
- 共有アイコン(シェアアイコン)を表示

### 2. 機能実装

#### クエリパラメータ仕様
以下のパラメータをURLに含めます:

| パラメータ | 説明 | 値 |
|----------|------|-----|
| `yj` | YJコード | 入力されたYJコード |
| `class3` | 薬効(3桁)フィルタ | 1=ON, 0=OFF |
| `class4` | 薬効(4桁)フィルタ | 1=ON, 0=OFF |
| `ingredient` | 成分フィルタ | 1=ON, 0=OFF |
| `form` | 剤形フィルタ | 1=ON, 0=OFF |
| `standard` | 規格(9桁)フィルタ | 1=ON, 0=OFF |
| `brand` | 銘柄(11桁)フィルタ | 1=ON, 0=OFF |
| `normal` | 通常出荷フィルタ | 1=ON, 0=OFF |
| `limited` | 限定出荷フィルタ | 1=ON, 0=OFF |
| `stop` | 供給停止フィルタ | 1=ON, 0=OFF |

#### 共有機能
1. 共有ボタンをクリック
2. 現在の検索条件(YJコード + 各フィルタのON/OFF)をクエリパラメータとして生成
3. 完全なURLをクリップボードにコピー
4. 成功メッセージを表示

#### URL復元機能
1. ページ読み込み時にURLクエリパラメータをチェック
2. `yj` パラメータが存在する場合、新しい共有形式として処理
3. 各パラメータから検索条件を復元
4. 自動的に検索を実行

### 3. 後方互換性
- 旧形式のパラメータ(`yjcode` + `mode`)も引き続きサポート
- 新形式(`yj` + 各フィルタパラメータ)を優先的に処理

## 使用例

### 共有URLの例
```
index.html?yj=2171022F1025&class3=1&class4=1&ingredient=0&form=1&standard=0&brand=0&normal=1&limited=0&stop=0
```

この例では:
- YJコード: `2171022F1025`
- 薬効(3桁): ON
- 薬効(4桁): ON
- 成分: OFF
- 剤形: ON
- 規格(9桁): OFF
- 銘柄(11桁): OFF
- 通常出荷: ON
- 限定出荷: OFF
- 供給停止: OFF

## テスト手順

1. 薬効分類検索ページを開く
2. YJコードを入力(例: `2171022F1025`)
3. 検索条件を設定(各チェックボックスをON/OFF)
4. 「共有」ボタンをクリック
5. 成功メッセージが表示されることを確認
6. 新しいタブでクリップボードのURLを開く
7. 検索条件が正しく復元されることを確認
8. 検索結果が自動的に表示されることを確認

## 実装ファイル

- `index.html`: 共有ボタンのUI追加
- `js/main.js`: 
  - `shareSearchConditions()`: 共有機能
  - `restoreFromUrlParams()`: URL復元機能
  - `initApp()`: URL復元処理の統合
