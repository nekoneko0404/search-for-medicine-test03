- **ポジティブ・フィードバック**: スタンプを押すたびに視覚・聴覚的な演出（サプライズ）を提供し、達成感を即座に与えます。
- **デフォルト設定**: 1日3回、7日間という一般的な処方内容をデフォルトとし、設定の負担を軽減します。
- **リマインド効果**: 「あと〇回」という残数表示により、ゴールへの進捗を可視化します。

### 2.2 児童心理学の応用
- **親子のコミュニケーション**: スタンプ時に保護者がかける「褒め言葉」のバリエーション（50種類）を提示。親の称賛が子どもの自己肯定感を高め、次回の服薬への意欲に繋げます。
- **キャラクターの安心感**: 「くま先生」「うさぎ看護師」「ネコ薬剤師」という親しみやすいキャラクターが登場し、医療への恐怖心を和らげます。
- **希少性の演出**: 10%の確率で発生する「レア演出（黄金のスタンプ）」により、飽きを防ぎ、期待感を持続させます。

## 3. 技術スタック
- **Frontend**: HTML5, CSS3 (Vanilla CSS), JavaScript (ES6+)
- **Storage**: LocalStorage (ブラウザ保存)
- **Design**: Responsive Design (Mobile First), CSS Animations, Web Audio API
- **Typography**: Google Fonts (Zen Maru Gothic)

## 4. 機能詳細
### 4.1 タブシステム
- 最大3つまでの独立したスケジュール（病院ごと、兄弟ごとなど）を管理可能。
- 各タブで個別の設定と進捗を保持。

### 4.2 設定機能
- **1日の服用回数**: 1〜5回。
- **服用期間**: 1〜30日。
- **テストモード**: 服用間隔の制限を解除し、デモンストレーションや動作確認に使用可能。
- **開始位置の調整**: 初回利用時に2回目や3回目から開始できるよう、スキップ機能を搭載。

### 4.3 スタンプグリッド
- **週単位表示**: 7日分を1画面とし、ページネーションで管理。
- **視覚的ステータス**:
    - 済: スタンプ表示
    - スキップ: 「Skip」表示
    - 次回: 点滅演出
- **服用間隔制限**:
    - 1日1回: 12時間
    - 1日2回: 6時間
    - 1日3回以上: 4時間
    ※制限時間内のクリック時はエラー音と警告を表示。

### 4.4 サプライズ演出
スタンプ押下時にランダムで以下の演出が発生：
- 紙吹雪（Confetti）
- 浮遊絵文字（Floating Emojis）
- 画面フラッシュ（Gradient Flash）
- 巨大スタンプ（Big Stamp）
- **レア演出**: 黄金のスタンプシャワー（10%の確率）

### 4.5 表彰状（修了証）
- 全てのスロットが埋まると自動的に表示。
- **お名前入力**: 子ども自身や保護者が名前を入力可能。
- **印刷最適化**: A4縦サイズでの印刷に対応。3人のキャラクターの署名入り。

## 5. データ構造
LocalStorageキー: `medicine_reward_app_v2`
```json
{
  "currentTab": 0,
  "tabs": [
    {
      "config": {
        "dosesPerDay": 3,
        "durationDays": 7,
        "totalSlots": 21,
        "testMode": false,
        "startOffset": 0
      },
      "progress": {
        "stamps": 5,
        "timestamps": ["ISOString", "SKIPPED", ...],
        "lastStampTime": "ISOString"
      }
    },
    ...
  ]
}
```

## 6. 印刷仕様
- **サイズ**: A4 縦
- **要素**:
    - タイトル（がんばったで賞）
    - 表彰文
    - お名前記入欄
    - 日付（自動取得）
    - キャラクター署名（くま先生、うさぎ看護師、ネコ薬剤師）
- **CSS制御**: 印刷時には不要なUI（ボタン、タブバーなど）を非表示にし、表彰状のみを出力。
