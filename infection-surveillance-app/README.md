# 感染症動向可視化システム (Infection Surveillance App)

国立感染症研究所が発表する感染症発生動向調査（IDWR）の速報データを可視化するWebアプリケーションです。
Google Apps Script (GAS) と Google Sheets をバックエンドとして利用し、フロントエンドでは Chart.js を用いて地図とグラフを描画します。

## 機能

*   **全国感染症動向**: インフルエンザ、COVID-19、急性呼吸器感染症 (ARI) の最新状況を表示します。
*   **都道府県別ヒートマップ**: 日本地図上で流行レベルを色分け表示します。
    *   COVID-19: 注意報レベル (10.0) 未満は緑色で表示。
    *   ARI: 80以上で注意（黄）、120以上で流行（赤）。
*   **ランキング**: 都道府県別の報告数トップ10を表示します。
*   **県別トレンドグラフ**: 地図上のエリアまたは詳細リストの県名をクリックすると、その県の週次推移グラフ（折れ線）を表示します。
    *   流行レベル（注意報・警報）に応じて線の色が変化します。

## システム構成

*   **Frontend**: HTML5, CSS3, JavaScript (Vanilla JS), Chart.js v4
*   **Backend**: Google Apps Script (GAS), Google Sheets
    *   GAS: 定期的にIDWRからCSVをダウンロードし、スプレッドシートに書き込む。また、`doGet` エンドポイントでCSVデータを提供する。
    *   Google Sheets: データの保存・管理（中間データベース）。

## セットアップ手順 (開発者向け)

### 1. Google Apps Script (GAS) の設定

1.  Google Drive上にデータ保存用フォルダを作成します。
2.  新規GASプロジェクトを作成し、`Code.gs` の内容をコピーします。
3.  `Code.gs` 内の定数（フォルダIDなど）を環境に合わせて設定します。
4.  `main` 関数を実行し、スプレッドシートが作成されることを確認します。
5.  「デプロイ」から「新しいデプロイ」を作成し、「ウェブアプリ」として公開します（アクセス権: 全員）。
6.  発行されたウェブアプリのURLをメモします。

### 2. フロントエンドの設定

1.  `main.js` の `API_URL` 定数を、上記で発行されたGASウェブアプリのURLに書き換えます。
2.  `index.html` をブラウザで開き、動作を確認します。

## ライセンス

MIT License